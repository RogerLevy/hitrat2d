%obj kind: %array
    var len var buf var cap
;kind

\ to add to a "collection" interface...
\ key/value thingies... string keys being z-term...
: set  [[ dup cap @ >= abort" set: Index out of range!" cells buf @ + ! ]] ;
: get  [[ dup cap @ >= abort" set: Index out of range!" cells buf @ + @ ]] ;
: length  -> len @ ;

: array ( n -- <name> )
    create %array static, here buf ! dup len ! dup cap ! cells allot&erase ;

: stack ( n -- <name> )
    create %array static, here buf ! dup cap ! cells allot&erase ;

%array m: (push)  len @ me set  1 len +! ;